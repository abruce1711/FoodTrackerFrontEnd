@page "/"
@using foodTrackerFrontEnd.Models;
@using foodTrackerFrontEnd.Interfaces;
@using foodTrackerFrontEnd.Services;
@inject NavigationManager NavigationManager
@inject IFoodTrackerApiService<FoodItem> _foodService;
@inject AppState AppState;
@implements IDisposable;

<PageTitle>Home</PageTitle>

<AuthorizeView>
    <Authorized>
        Welcome back!
    </Authorized>
    <NotAuthorized>
        Welcome to Food Expiry Tracker! Please log in to add items
    </NotAuthorized>
</AuthorizeView>

@code {
    protected override void OnInitialized()
    {
        AppState.SetAppBarHeading("Home");
        AppState.OnChange += StateHasChanged;
    }

    public void Dispose()
    {        
        AppState.OnChange -= StateHasChanged;
    }
}